<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>My Page</title>
    <link rel="stylesheet" href="style.css">
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@radix-ui/colors@latest/blue.css"
    />
  </head>
  <body>
    <div class="fullscreen" id="fs1">
      <h1>A problem: I want to move a square.</h1>
      <main>
        <!--Introduce a problem: we want a fancy animation for a big square moving.-->
        <div class="square demo-square"><p>Not a problem yet</p></div>
      </main>
    </div>
    <div class="fullscreen" id="fs2">
    </div> 
    <div class="fullscreen" id="fs2">
    </div>
    <div class="fullscreen" id="fs2">
      <h1>Flip demonstration</h1>
      <main>
        <form action="">
          <fieldset>
            <legend>Animation Settings</legend>
            <label for="divsPerRow">
              Divs/Row
              <input type="range" name="divsPerRow" id="divsPerRow" min="1" max="20" val="10" step="1">
              <output name="out_divsPerRow"></output>
            </label>
            <label for="divsPerCol">
              Divs/Column
              <input type="range" name="divsPerCol" id="divsPerCol" min="1" max="20" val="10" step="1">
              <output name="out_divsPerCol"></output>
            </label>
            <label for="divsW">
              Divs' width
              <input type="range" name="divsW" id="divsW" min="20" max="100" val="50" step="1">
              <output name="out_divsW"></output>
            </label>
            <label for="divsH">
              Divs' height
              <input type="range" name="divsH" id="divsH" min="20" max="100" val="50" step="1">
              <output name="out_divsH"></output>
            </label>
            <label for="divMargin">
              Divs' margin
              <input type="range" name="divMargin" id="divMargin" min="0" max="15" val="2.5" step="0.25">
              <output name="out_divMargin"></output>
            </label>
            <label for="indexDivs">
              Indices
              <input type="checkbox" name="indexDivs" id="indexDivs" checked>
            </label>
            <label for="useFLIP">
              Use FLIP
              <input type="checkbox" name="useFLIP" id="useFLIP">
            </label>
            <label for="animationFunc">
              <select name="animationFunc" id="animationFunc"></select>
            </label>
            <hr>
            <button>Apply</button>
          </fieldset>
        </form>
    
        <div id="div_container"></div>
    </div>

    <script src="script.js"></script>
    <script src="scroll.js"></script>
    <script>
      function applyChange(input) {
        let value = +input.value;
        if (input.step < 1)
          value = value.toFixed(2);

        input.nextElementSibling.value = value;
      }

      const inputs = document.querySelectorAll('input:has(+ output)');
      inputs.forEach(i => {
        i.addEventListener('input', _ => {
          applyChange(i);
        });
        applyChange(i);
      })

      document.forms[0]?.addEventListener('submit', e => {
        e.preventDefault();
        applyPageSettings();
      })
    </script>
  </body>
</html>
